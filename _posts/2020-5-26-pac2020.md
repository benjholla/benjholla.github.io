---
layout: post
title: Program Analysis for Cybersecurity (2020)
draft: false
---
This post contains the materials for the Program Analysis for Cybersecurity (PAC) training I'll be teaching at the 2020 [US Cyber Challenge](https://www.uscyberchallenge.org/cyber-camps/) security boot camps. The training is aimed at audiences with little or no experience in program analysis.

## Materials

Please use the links below to download the training materials.

- **Slides:** [PAC.pdf](https://github.com/benjholla/PAC202/raw/master/slides/PAC.pdf)
- **All Materials:** [PAC.zip](https://github.com/benjholla/PAC2020/archive/master.zip)

### Virtual Machines
The following virtual machines were officially tested with [Virtual Box](https://www.virtualbox.org) release 6.1.

|        Virtual Machine       |   Credentials   |                                                                                                                                                                                                                Notes                                                                                                                                                                                                                |
|:----------------------------:|:---------------:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| [Hacking Live Virtual Machine](https://drive.google.com/file/d/1mAQ4UTOhT3BlDgQgIy3fUzk4iX2WYVwV/view) | *pac*:*badpass* | This virtual machine covers labs 1 and 2. It is known to only play in VirtualBox players.                                                                                                                                                                                                                                                                                                                                           |
| [PAC2020 Virtual Machine](https://drive.google.com/file/d/1nG5b_h03BxUrArreOIx9CBNVaWXfDIP0/view)      | *pac*:*badpass* | This virtual machine covers labs 3 through 9. In order to complete lab 4, be sure that this virtual machine is the same network as the Windows XP SP3 x86 machine and that the two virtual machines can ping each other. This virtual machine will import into VMWare, but does not have VMWare tools installed. Using VirtualBox is recommended.                                                                                   |
| [Windows XP SP3 x86](https://drive.google.com/file/d/1TmMEU9LhIqFz7F_sq5ZR3NWmdtw_-NxZ/view)           |        -        | The provided file is an ISO that can be used as installation media in VirtualBox. You are not provided with a license key (the activation servers have been disabled anyway). When prompted for the license key, skip the prompt to continue installation and use the 30-day evaluation mode to complete the lab. This machine will serve as the victim machine for an attack performed in lab 4 from the PAC 2020 virtual machine. |

*Note:* [Virtual Box](https://www.virtualbox.org) player is available free.

*Note:* When using the VirtualBox player the mouse integration feature is turned on be default. If the feature is not working properly (particularly in the HackingLive VM) you can disable it my navigating to *Input* &gt; *Mouse Integration* and toggle it on and off.

*Note:* These materials are a major revision of past course materials, which can be found [here](/pac).

## Learning Objectives
By the end of this course you should be able to:

- Demonstrate basis exploitation, bug hunting, and evasion skills
- Describe commonalities between vulnerability analysis and malware detection
- Describe fundamental limits in program analysis
- Challenge conventional viewpoints of security
- Confidently approach large third party software
- Critically evaluate software security products
- Locate additional relevant resources

## Learning Modules
The course material is broken into 6 modules that cover both defensive and offensive materials.

### Exploit Development
First we will become intimately familiar with one particular type of bug, a buffer overflow. We will iteratively develop exploits for a simple Linux program with a buffer overflow before we move on to developing an exploit for a Windows web server called MiniShare.

### Fundamentals of Program Analysis
Next we will discuss program analysis and how it can be used to analyze programs to detect bugs and malware. We will also consider some fundamental challenges and even limitations of what is possible in program analysis. This module discusses relationships between bugs and malware, as well as strategies for integrating human intelligence in automatic program analysis. Later you will be presented with an enormous task of quickly locating malware in a large Android application (several thousand lines of code). Through this activity you will be challenged to develop strategies for auditing something that is too big to personally comprehend. As class we will collectively develop strategies to audit the application, we will use those strategies to develop automated techniques for detecting malware.

### Bug Hunting
In this module we will examine strategies for hunting for unknown bugs in software. We will revisit our buffer overflow vulnerabilities and consider what is involved to automatically detect the vulnerability for various programs while considering the limitations of program analysis. We will develop a tool to automatically locate the line number of the code that was exploited in the MiniShare web server.

### Antivirus Evasion
Since antivirus is used to actively thwart exploitation attempts, we will take a detour to examine techniques to bypass and evade antivirus. Specifically we will examine what is necessary to manually modify a 4 year old browser drive by attack to become undetectable by all modern antivirus. We will also build a tool to automatically obfuscate and pack our exploit.

### Going Beyond
In this final module, we explore future directions in the field and examine some open problems in the context of what we learned in the previous modules.

**Note:** The labs in this course are designed to push everyone in this course. Likely there will be some subject that you feel ill equipped to try, but donâ€™t let that be a barrier. Attempt the lab to the best of your ability and try your best to learn the core ideas behind each activity. Then attempt the lab again when you have more time. Please send questions, thoughts, and comments to [uscc@ben-holland.com](mailto:uscc@ben-holland.com?Subject=PAC%20USCC%202017) and I will be happy to help you find your way to success for any of the labs. There are multiple solutions to each lab, and in some cases there are no right answers!
